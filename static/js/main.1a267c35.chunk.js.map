{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","servises/images-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","search","formSubmit","e","preventDefault","props","onSubmit","reset","handleChange","setState","currentTarget","value","className","styles","searchbar","searchForm","this","type","searchForm_button","searchForm_button__label","searchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","Button","page","button","onClick","ImageGalleryItem","img","getImgForModal","webformatURL","item","src","alt","image","Modal","closeModal","target","nodeName","code","hideModal","window","addEventListener","removeEventListener","overlay","modal","children","ImageGallery","showModal","toggleModal","images","largeImageURL","gallery","map","id","axios","get","then","res","data","App","searchQuery","isLoading","onChangeSearch","fetchImg","prevProps","prevState","imagesApi","hits","catch","error","console","log","finally","scrollPageToEnd","setTimeout","scrollBy","top","document","documentElement","scrollHeight","behavior","loadMore","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a267c35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1AuYu\",\"modal\":\"Modal_modal__2UqKQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__R05KS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__VqarN\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\nclass Searchbar extends Component {\n  state = { search: '' };\n  formSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.search);\n\n    this.reset();\n  };\n  handleChange = e => {\n    this.setState({ search: e.currentTarget.value });\n  };\n  reset = () => {\n    this.setState({\n      search: '',\n    });\n  };\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.formSubmit}>\n          <button type=\"submit\" className={styles.searchForm_button}>\n            <span className={styles.searchForm_button__label}>Search</span>\n          </button>\n          <input\n            className={styles.searchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={this.state.search}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\nconst Button = ({ page }) => {\n  return (\n    <button type=\"button\" className={styles.button} onClick={page}>\n      Load more\n    </button>\n  );\n};\nButton.propTypes = {\n  page: PropTypes.func.isRequired,\n};\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: 'smooth',\n// });\n\nexport default Button;\n","import React from 'react';\nimport styles from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\nconst ImageGalleryItem = ({ img, getImgForModal }) => {\n  const { webformatURL } = img;\n\n  return (\n    <li className={styles.item}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={styles.image}\n        onClick={() => getImgForModal({ img })}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.object.isRequired,\n  getImgForModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModal);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModal);\n  }\n\n  closeModal = e => {\n    if (e.target.nodeName !== 'IMG' || e.code === 'Escape') {\n      this.props.hideModal();\n    }\n  };\n  render() {\n    return (\n      <div className={styles.overlay} onClick={this.closeModal}>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\nModal.propTypes = {\n  children: PropTypes.element.isRequired,\n};\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport PropTypes from 'prop-types';\nclass ImageGallery extends Component {\n  state = {\n    showModal: false,\n    img: '',\n  };\n  toggleModal = () => {\n    this.setState({\n      showModal: !this.state.showModal,\n    });\n  };\n  getImgForModal = ({ img }) => {\n    if (img) {\n      this.toggleModal();\n      this.setState({\n        img,\n      });\n    }\n  };\n  render() {\n    const { showModal, img } = this.state;\n    const { images } = this.props;\n    const { largeImageURL } = img;\n    return (\n      <ul className={styles.gallery}>\n        {images.map(item => {\n          return (\n            <ImageGalleryItem\n              key={item.id}\n              img={item}\n              getImgForModal={this.getImgForModal}\n            />\n          );\n        })}\n        {showModal && (\n          <Modal hideModal={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" />\n          </Modal>\n        )}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n};\nexport default ImageGallery;\n","import axios from 'axios';\nconst key = '20431977-9a0c4e5e6a84a634219821f23';\nconst getLibrary = (search, page) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${search}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(res => res.data);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getLibrary };\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport './index.css';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport ImageGallery from './components/ImageGallery';\nimport imagesApi from './servises/images-api';\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n    images: [],\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n    if (searchQuery !== prevState.searchQuery && searchQuery !== '') {\n      this.fetchImg();\n    } else if (\n      searchQuery === prevState.searchQuery &&\n      page !== prevState.page\n    ) {\n      this.fetchImg();\n    }\n  }\n  onChangeSearch = search => {\n    this.setState({ searchQuery: search, page: 1, images: [] });\n  };\n  fetchImg = (prevProps, prevState) => {\n    const { searchQuery, page } = this.state;\n    this.setState({ isLoading: true });\n    imagesApi\n      .getLibrary(searchQuery, page)\n      .then(res => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...res.hits],\n        }));\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n  scrollPageToEnd = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n  loadMore = e => {\n    e.preventDefault();\n\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.scrollPageToEnd();\n  };\n  render() {\n    const { images, isLoading } = this.state;\n\n    return (\n      <div className={'App'}>\n        <Searchbar onSubmit={this.onChangeSearch} />\n\n        <ImageGallery images={images} />\n        {isLoading && (\n          <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {images.length > 0 && !isLoading && <Button page={this.loadMore} />}\n      </div>\n    );\n  }\n}\n// this.setState({ images: res.hits });\nexport default App;\n\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Searchbar_searchForm__38Lsc\",\"searchForm_button\":\"Searchbar_searchForm_button__35hId\",\"searchForm_button__label\":\"Searchbar_searchForm_button__label__lUCwO\",\"searchForm_input\":\"Searchbar_searchForm_input__3zawo\",\"searchbar\":\"Searchbar_searchbar__2ewW2\"};"],"sourceRoot":""}